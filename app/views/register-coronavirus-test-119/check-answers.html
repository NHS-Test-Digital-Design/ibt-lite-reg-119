{% set pageTitle = "Check your answers" %}
{% extends "layout_service_step.html" %}

{% set monthConvert %}
    {% if data['dob-month'] or data['date-asked-month'] == "1" %}
        January
    {% elif data['dob-month'] or data['date-asked-month'] == "2" %}
        February
    {% elif data['dob-month'] or data['date-asked-month'] == "3" %}
        March
    {% elif data['dob-month'] or data['date-asked-month'] == "4" %}
        April
    {% elif data['dob-month'] or data['date-asked-month'] == "5" %}
        May
    {% elif data['dob-month'] or data['date-asked-month'] == "6" %}
        June
    {% elif data['dob-month'] or data['date-asked-month'] == "7" %}
        July
    {% elif data['dob-month'] or data['date-asked-month'] == "8" %}
        August
    {% elif data['dob-month'] or data['date-asked-month'] == "9" %}
        September
    {% elif data['dob-month'] or data['date-asked-month'] == "10" %}
        October
    {% elif data['dob-month'] or data['date-asked-month'] == "11" %}
        November
    {% elif data['dob-month'] or data['date-asked-month'] == "12" %}
        December
    {% endif %}
{% endset %}


{% set name %}
    {% if data['first-name'] %}
        {{ data['first-name'] + " " + data['last-name'] }}
    {% else %}
        Alex Kidd
    {% endif %}
{% endset %}

{% set birthDate %}
    {% if data['dob-day'] %}
        {{ data['dob-day'] + monthConvert + data['dob-year'] }}
        {% else %}
        4 March 1980
    {% endif %}
{% endset %}

{% set email %}
    {% if data['email'] %}
        {{ data['email'] }}
        {% else %}
        I do not have a email address
    {% endif %}
{% endset %}

{% set landlineNumber %}
    {% if data['landline'] %}
        {{ data['landline'] }}
        {% else %}
        I do not have a landline number
    {% endif %}
{% endset %}

{% set mobileNumber %}
    {% if data['mobile'] %}
        {{ mobile }}
    {% else %}
        I do not have a mobile number
    {% endif %}
{% endset %}


{% set gender %}
    {% if data['gender'] == "male"%}
        Male
    {% elif data['gender'] == "female" %}
        Female
    {% else %}
        Other / Not specified / I do not know
    {% endif %}
{% endset %}

{% set ethnicGroup %}
    {% if data['ethnic-group'] == "asian-british-asian"%}
        Asian or Asian British
    {% elif data['ethnic-group'] == "black" %}
        Black, African, Black British or Caribbean
    {% elif data['ethnic-group'] == "mixed" %}
        Mixed or multiple ethnic groups
    {% elif data['ethnic-group'] == "white" %}
        White
    {% elif data['ethnic-group'] == "another" %}
        Another ethnic groupite
    {% else %}
        Prefer not to say
    {% endif %}
{% endset %}

{% set ethnicBackground %}
    {% if data['ethnic-background'] == "arab"%}
        Arab
    {% elif data['ethnic-background'] == "another" %}
        Another ethnic background
    {% elif data['ethnic-background'] == "not-say" %}
        Prefer not to say
    {% elif data['ethnic-background'] == "bangladeshi" %}
        Bangladeshi
    {% elif data['ethnic-background'] == "chinese" %}
        Chinese
    {% elif data['ethnic-background'] == "indian" %}
        Indian
    {% elif data['ethnic-background'] == "pakistani" %}
        Pakistani
    {% elif data['ethnic-background'] == "african" %}
        African
    {% elif data['ethnic-background'] == "caribbean" %}
        Caribbean
    {% elif data['ethnic-background'] == "asian-white" %}
        Asian and White
    {% elif data['ethnic-background'] == "black-african-white" %}
        Black African and White
    {% elif data['ethnic-background'] == "irish" %}
        Irish
    {% elif data['ethnic-background'] == "travller" %}
        "Irish Traveller or Gypsy
    {% else %}
        British, English, Northern Irish, Scottish, or Welsh
    {% endif %}
{% endset %}

{% set nhsNumber %}
    {% if data['nhsNumber'] %}
        {{ data['nhsNumber'] }}
        {% else %}
        123 456 7890 
    {% endif %}
{% endset %}

{% set barcodeRef %}
    {% if data['barcodeRef'] %}
        {{ data['barcodeRef'] }}
        {% else %}
        CHE01010101
    {% endif %}
{% endset %}

{% set overseasTravel %}
    {% if data['travel'] === "yes"%}
        Yes
        {% else %}
        No
    {% endif %}
{% endset %}

{% set symptoms %}
    {% if data['do-you-have-symptoms'] === "yes"%}
        Yes
        {% else %}
        No
    {% endif %}
{% endset %}

{% set positiveTest %}
    {% if data['tested-positive'] === "yes-over-three-months"%}
        Yes, over 3 months ago 
    {% elif data['tested-positive'] === "yes-less-three-months"%}
        Yes, less than 3 months ago
        {% else %}
        No
    {% endif %}
{% endset %}

{% set rmBarcode %}
    {% if data['RMbarcodeRef'] %}
        {{ data['RMbarcodeRef'] }}
        {% else %}
        AA 1234 5678 9AA
    {% endif %}
{% endset %}

{% set country %}
    {% if data['where-do-you-live'] == "england" %}
        England
    {% elif data['where-do-you-live'] == "scotland" %}
        Scotland
    {% elif data['where-do-you-live'] == "ni" %}
        Northern Ireland
    {% elif data['where-do-you-live'] == "wales" %}
        Wales
    {% else %}
        England
    {% endif %}
{% endset %}




{% block content %}
    {# https://design-system.service.gov.uk/styles/typography/#headings #}
    <h1 class="govuk-heading-l">
        {{ pageTitle }}
    </h1>


    <h2 class="govuk-heading-m">
        Personal details
    </h2>
    <p class="govuk-body">
        Check that the personal details are correct. You can change them if they are not.
    </p>
    {{ govukSummaryList({
        classes: "govuk-!-margin-bottom-9",
        rows: [
            {
                key: {
                    text: "Test kit barcode reference"
                },
                value: {
                    text: barcodeRef
                },
                actions: {
                    items: [
                        {
                            href: "barcode",
                            text: "Change",
                            visuallyHiddenText: "change barcode reference"
                        }
                    ]
                }
            },
            {
                key: {
                    text: "Travelled overseas"
                },
                value: {
                    text: overseasTravel
                },
                actions: {
                    items: [
                        {
                            href: "travel-overseas",
                            text: "Change",
                            visuallyHiddenText: "change oversea travel"
                        }
                    ]
                }
            },
            {
                key: {
                    text: "Royal Mail barcode reference"
                },
                value: {
                    text: rmBarcode
                },
                actions: {
                    items: [
                        {
                            href: "royal-mail-barcode",
                            text: "Change",
                            visuallyHiddenText: "change Royal Mail barcode"
                        }
                    ]
                }
            },
            {
                key: {
                    text: "Test date and time"
                },
                value: {
                    text: "10 January 2021"
                },
                actions: {
                    items: [
                        {
                            href: "test-date-time",
                            text: "Change",
                            visuallyHiddenText: "change test date and time"
                        }
                    ]
                }
            },
            {
                key: {
                    text: "Name"
                },
                value: {
                    text: name
                },
                actions: {
                    items: [
                        {
                            href: "name",
                            text: "Change",
                            visuallyHiddenText: "change name"
                        }
                    ]
                }
            },
            {
                key: {
                    text: "Any symptoms?"
                },
                value: {
                    text: symptoms
                },
                actions: {
                    items: [
                        {
                            href: "name",
                            text: "Change",
                            visuallyHiddenText: "change symptoms"
                        }
                    ]
                }
            },
            {
                key: {
                    text: "Positive coronavirus test"
                },
                value: {
                    text: positiveTest
                },
                actions: {
                    items: [
                        {
                            href: "tested-positive-before",
                            text: "Change",
                            visuallyHiddenText: "change tested positive before"
                        }
                    ]
                }
            },
            {
                key: {
                    text: "Date of birth"
                },
                value: {
                    text: birthDate
                },
                actions: {
                    items: [
                        {
                            href: "age",
                            text: "Change",
                            visuallyHiddenText: "change date of birth"
                        }
                    ]
                }
            },
            {
                key: {
                    text: "Mobile"
                },
                value: {
                    text: mobileNumber
                },
                actions: {
                    items: [
                        {
                            href: "age",
                            text: "Change",
                            visuallyHiddenText: "change mobile number"
                        }
                    ]
                }
            },
            {
                key: {
                    text: "Landline number"
                },
                value: {
                    text: landlineNumber
                },
                actions: {
                    items: [
                        {
                            href: "age",
                            text: "Change",
                            visuallyHiddenText: "change landline number"
                        }
                    ]
                }
            },
            {
                key: {
                    text: "Email addesss"
                },
                value: {
                    text: email
                },
                actions: {
                    items: [
                        {
                            href: "age",
                            text: "Change",
                            visuallyHiddenText: "change email addess"
                        }
                    ]
                }
            },
            {
                key: {
                    text: "Medical record (male, female, other…) "
                },
                value: {
                    text: gender
                },
                actions: {
                    items: [
                        {
                            href: "gender",
                            text: "Change",
                            visuallyHiddenText: "change medical record"
                        }
                    ]
                }
            },
            {
                key: {
                    text: "Ethnic group"
                },
                value: {
                    text: ethnicGroup
                },
                actions: {
                    items: [
                        {
                            href: "ethnicity/ethnic-group",
                            text: "Change",
                            visuallyHiddenText: "change ethnic group"
                        }
                    ]
                }
            },
            {
                key: {
                    text: "Ethnic background"
                },
                value: {
                    text: ethnicBackground
                },
                actions: {
                    items: [
                        {
                            href: "ethnicity/ethnic-background",
                            text: "Change",
                            visuallyHiddenText: "change ethnicity"
                        }
                    ]
                }
            },
            {
                key: {
                    text: "Travel to nursery, work or place of education"
                },
                value: {
                    text: "No"
                },
                actions: {
                    items: [
                        {
                            href: "#",
                            text: "Change",
                            visuallyHiddenText: "change travel to nursery, work or place of education"
                        }
                    ]
                }
            },
            {
                key: {
                    text: "Country of residence"
                },
                value: {
                    text: country
                },
                actions: {
                    items: [
                        {
                            href: "#",
                            text: "Change",
                            visuallyHiddenText: "change country of residence"
                        }
                    ]
                }
            },
            {
                key: {
                    text: "Home address"
                },
                value: {
                    html: "<p class='govuk-body'>1 New Street, Your City, </p><p class='govuk-body'>NH48 1SD</p>"
                },
                actions: {
                    items: [
                        {
                            href: "#",
                            text: "Change",
                            visuallyHiddenText: "change your home address"
                        }
                    ]
                }
            },
            {
                key: {
                    text: "GP registered address"
                },
                value: {
                    html: "<p class='govuk-body'>1 New Street, Your City, </p><p class='govuk-body'>NH48 1SD</p>"
                },
                actions: {
                    items: [
                        {
                            href: "#",
                            text: "Change",
                            visuallyHiddenText: "change your delivery address"
                        }
                    ]
                }
            },
            {
                key: {
                    text: "NHS number"
                },
                value: {
                    text: nhsNumber
                },
                actions: {
                    items: [
                        {
                            href: "nhs-number",
                            text: "Change",
                            visuallyHiddenText: "change NHS number"
                        }
                    ]
                }
            }
        ]
    }) }}


    {# https://design-system.service.gov.uk/components/button/ #}
    {{ govukButton({
        text: "Confirm and register",
        classes: "govuk-!-margin-top-4",
        href: "registration-confirmed"
    }) }}

{% endblock %}